<h1><%= @student.name %></h2>

<h2>Enter your latest completed lesson:</h2>
<%= render('layouts/errors', :object => @completion) %>
<form id="new_completion" action="/completions/<%= @student.id %>" method="post">
  <%= render('./completions/form') %>
  <select form="new_completion" name="completion[lesson_id]">
    <% @student.not_done.each do |lesson| %>
      <option value="<%= lesson.id %>"><%= lesson.name %></option>
    <% end %>
  </select>
  <button>Mark completed</button>
</form>

<h2>Today's potential pairs:</h2>

<h3>Lessons Remaining: </h3>

<ul>
  <% @student.not_done.each do |lesson| %>
    <li><%= lesson.number %>. <%= lesson.name %></li>
  <% end %>
</ul>

<h3>Lessons Completed: </h3>

<ul>
  <% @student.completions.each do |completion| %>
    <li><%= completion.lesson.number %>.
      <%= completion.lesson.name %>,
      completed on <%= completion.date %></li>
  <% end %>
</ul>

<p><a href="/">Return to Roster</a></p>

<%= render('layouts/errors', :object => @student) %>

<h3>Edit name</h3>
<form action="/students/<%= @student.id %>" method="post">
  <input name="_method" type="hidden" value="patch">
  <%= render('form') %>
  <button>Update</button>
</form>

<p><a href = "/students/<%= @student.id %>"
      data-confirm="Are you sure you want to delete this student?"
      data-method="delete" rel= "nofollow">Delete Student</a></p>
